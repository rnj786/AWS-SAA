{"ast":null,"code":"const API_URL=process.env.REACT_APP_API_URL;export async function listFiles(){const resp=await fetch(\"\".concat(API_URL,\"/files\"));return await resp.json();}export async function uploadFile(file){const formData=new FormData();formData.append('file',file);// Add filename as query param\nconst filename=encodeURIComponent(file.name);return fetch(\"\".concat(API_URL,\"/files?filename=\").concat(filename),{method:'POST',body:formData});}export async function deleteFiles(fileKeys){// If only one file, pass as single filename param\nif(fileKeys.length===1){const filename=encodeURIComponent(fileKeys[0]);return fetch(\"\".concat(API_URL,\"/files?filename=\").concat(filename),{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({files:fileKeys})});}else{// For multiple files, pass all as repeated query params (or just use body as before)\nconst query=fileKeys.map(f=>\"filename=\".concat(encodeURIComponent(f))).join('&');return fetch(\"\".concat(API_URL,\"/files?\").concat(query),{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({files:fileKeys})});}}","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","listFiles","resp","fetch","concat","json","uploadFile","file","formData","FormData","append","filename","encodeURIComponent","name","method","body","deleteFiles","fileKeys","length","headers","JSON","stringify","files","query","map","f","join"],"sources":["/workspaces/codespaces-blank/ServerlessProject/frontend/src/api.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL;\n\nexport async function listFiles() {\n  const resp = await fetch(`${API_URL}/files`);\n  return await resp.json();\n}\n\nexport async function uploadFile(file) {\n  const formData = new FormData();\n  formData.append('file', file);\n  // Add filename as query param\n  const filename = encodeURIComponent(file.name);\n  return fetch(`${API_URL}/files?filename=${filename}`, {\n    method: 'POST',\n    body: formData,\n  });\n}\n\nexport async function deleteFiles(fileKeys) {\n  // If only one file, pass as single filename param\n  if (fileKeys.length === 1) {\n    const filename = encodeURIComponent(fileKeys[0]);\n    return fetch(`${API_URL}/files?filename=${filename}`, {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ files: fileKeys }),\n    });\n  } else {\n    // For multiple files, pass all as repeated query params (or just use body as before)\n    const query = fileKeys.map(f => `filename=${encodeURIComponent(f)}`).join('&');\n    return fetch(`${API_URL}/files?${query}`, {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ files: fileKeys }),\n    });\n  }\n}\n"],"mappings":"AAAA,KAAM,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE7C,MAAO,eAAe,CAAAC,SAASA,CAAA,CAAG,CAChC,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIP,OAAO,UAAQ,CAAC,CAC5C,MAAO,MAAM,CAAAK,IAAI,CAACG,IAAI,CAAC,CAAC,CAC1B,CAEA,MAAO,eAAe,CAAAC,UAAUA,CAACC,IAAI,CAAE,CACrC,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEH,IAAI,CAAC,CAC7B;AACA,KAAM,CAAAI,QAAQ,CAAGC,kBAAkB,CAACL,IAAI,CAACM,IAAI,CAAC,CAC9C,MAAO,CAAAV,KAAK,IAAAC,MAAA,CAAIP,OAAO,qBAAAO,MAAA,CAAmBO,QAAQ,EAAI,CACpDG,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEP,QACR,CAAC,CAAC,CACJ,CAEA,MAAO,eAAe,CAAAQ,WAAWA,CAACC,QAAQ,CAAE,CAC1C;AACA,GAAIA,QAAQ,CAACC,MAAM,GAAK,CAAC,CAAE,CACzB,KAAM,CAAAP,QAAQ,CAAGC,kBAAkB,CAACK,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChD,MAAO,CAAAd,KAAK,IAAAC,MAAA,CAAIP,OAAO,qBAAAO,MAAA,CAAmBO,QAAQ,EAAI,CACpDG,MAAM,CAAE,QAAQ,CAChBK,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CJ,IAAI,CAAEK,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEL,QAAS,CAAC,CAC1C,CAAC,CAAC,CACJ,CAAC,IAAM,CACL;AACA,KAAM,CAAAM,KAAK,CAAGN,QAAQ,CAACO,GAAG,CAACC,CAAC,cAAArB,MAAA,CAAgBQ,kBAAkB,CAACa,CAAC,CAAC,CAAE,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAC9E,MAAO,CAAAvB,KAAK,IAAAC,MAAA,CAAIP,OAAO,YAAAO,MAAA,CAAUmB,KAAK,EAAI,CACxCT,MAAM,CAAE,QAAQ,CAChBK,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CJ,IAAI,CAAEK,IAAI,CAACC,SAAS,CAAC,CAAEC,KAAK,CAAEL,QAAS,CAAC,CAC1C,CAAC,CAAC,CACJ,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}