{"ast":null,"code":"import React,{useEffect,useState}from'react';import{listFiles,deleteFiles}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DeleteFiles(){const[files,setFiles]=useState([]);const[selected,setSelected]=useState([]);useEffect(()=>{listFiles().then(data=>setFiles(data.files||[]));},[]);const handleCheck=key=>{setSelected(selected=>selected.includes(key)?selected.filter(k=>k!==key):[...selected,key]);};const handleDelete=async()=>{await deleteFiles(selected);setFiles(files.filter(f=>!selected.includes(f.key)));setSelected([]);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Delete Files\"}),/*#__PURE__*/_jsx(\"ul\",{children:files.map(f=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selected.includes(f.key),onChange:()=>handleCheck(f.key)}),f.key]},f.key))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,disabled:selected.length===0,children:\"Delete Selected\"})]});}export default DeleteFiles;","map":{"version":3,"names":["React","useEffect","useState","listFiles","deleteFiles","jsx","_jsx","jsxs","_jsxs","DeleteFiles","files","setFiles","selected","setSelected","then","data","handleCheck","key","includes","filter","k","handleDelete","f","children","map","type","checked","onChange","onClick","disabled","length"],"sources":["/workspaces/codespaces-blank/ServerlessProject/frontend/src/pages/DeleteFiles.js"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport { listFiles, deleteFiles } from '../api';\n\nfunction DeleteFiles() {\n  const [files, setFiles] = useState([]);\n  const [selected, setSelected] = useState([]);\n\n  useEffect(() => {\n    listFiles().then(data => setFiles(data.files || []));\n  }, []);\n\n  const handleCheck = (key) => {\n    setSelected(selected =>\n      selected.includes(key)\n        ? selected.filter(k => k !== key)\n        : [...selected, key]\n    );\n  };\n\n  const handleDelete = async () => {\n    await deleteFiles(selected);\n    setFiles(files.filter(f => !selected.includes(f.key)));\n    setSelected([]);\n  };\n\n  return (\n    <div>\n      <h2>Delete Files</h2>\n      <ul>\n        {files.map(f => (\n          <li key={f.key}>\n            <input\n              type=\"checkbox\"\n              checked={selected.includes(f.key)}\n              onChange={() => handleCheck(f.key)}\n            />\n            {f.key}\n          </li>\n        ))}\n      </ul>\n      <button onClick={handleDelete} disabled={selected.length === 0}>Delete Selected</button>\n    </div>\n  );\n}\nexport default DeleteFiles;\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACdE,SAAS,CAAC,CAAC,CAACW,IAAI,CAACC,IAAI,EAAIJ,QAAQ,CAACI,IAAI,CAACL,KAAK,EAAI,EAAE,CAAC,CAAC,CACtD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAM,WAAW,CAAIC,GAAG,EAAK,CAC3BJ,WAAW,CAACD,QAAQ,EAClBA,QAAQ,CAACM,QAAQ,CAACD,GAAG,CAAC,CAClBL,QAAQ,CAACO,MAAM,CAACC,CAAC,EAAIA,CAAC,GAAKH,GAAG,CAAC,CAC/B,CAAC,GAAGL,QAAQ,CAAEK,GAAG,CACvB,CAAC,CACH,CAAC,CAED,KAAM,CAAAI,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAjB,WAAW,CAACQ,QAAQ,CAAC,CAC3BD,QAAQ,CAACD,KAAK,CAACS,MAAM,CAACG,CAAC,EAAI,CAACV,QAAQ,CAACM,QAAQ,CAACI,CAAC,CAACL,GAAG,CAAC,CAAC,CAAC,CACtDJ,WAAW,CAAC,EAAE,CAAC,CACjB,CAAC,CAED,mBACEL,KAAA,QAAAe,QAAA,eACEjB,IAAA,OAAAiB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBjB,IAAA,OAAAiB,QAAA,CACGb,KAAK,CAACc,GAAG,CAACF,CAAC,eACVd,KAAA,OAAAe,QAAA,eACEjB,IAAA,UACEmB,IAAI,CAAC,UAAU,CACfC,OAAO,CAAEd,QAAQ,CAACM,QAAQ,CAACI,CAAC,CAACL,GAAG,CAAE,CAClCU,QAAQ,CAAEA,CAAA,GAAMX,WAAW,CAACM,CAAC,CAACL,GAAG,CAAE,CACpC,CAAC,CACDK,CAAC,CAACL,GAAG,GANCK,CAAC,CAACL,GAOP,CACL,CAAC,CACA,CAAC,cACLX,IAAA,WAAQsB,OAAO,CAAEP,YAAa,CAACQ,QAAQ,CAAEjB,QAAQ,CAACkB,MAAM,GAAK,CAAE,CAAAP,QAAA,CAAC,iBAAe,CAAQ,CAAC,EACrF,CAAC,CAEV,CACA,cAAe,CAAAd,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}